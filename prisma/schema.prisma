generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "rhel-openssl-1.0.x", "rhel-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Subscriber {
  id        Int       @id @default(autoincrement())
  email     String    @unique
  createdAt DateTime? @default(now()) @db.Timestamptz(6)
}

model PaperSubmission {
  id             Int       @id @default(autoincrement())
  authorName     String
  coAttributes   String?
  country        String
  email          String
  whatsappNumber String
  organization   String
  fileUrl        String
  status         String    @default("PENDING")
  createdAt      DateTime? @default(now()) @db.Timestamptz(6)
}

model Attendee {
  id                Int       @id @default(autoincrement())
  firstName         String
  lastName          String
  email             String
  org               String?
  role              String?
  dietary           String?
  ticketType        String
  hasPaid           Boolean   @default(false)
  paymentStatus     String    @default("PENDING") // PENDING, COMPLETED, ABANDONED
  paymentFeedback   String?
  razorpayOrderId   String?   @unique
  razorpayPaymentId String?   @unique
  createdAt         DateTime? @default(now()) @db.Timestamptz(6)
}

model Speaker {
  id           Int     @id @default(autoincrement())
  name         String
  role         String?
  affiliation  String?
  bio          String?
  photoUrl     String?
  topic        String?
  type         String  @default("KEYNOTE")
  displayOrder Int     @default(0)
}

model CommitteeMember {
  id           Int     @id @default(autoincrement())
  name         String
  role         String
  photoUrl     String?
  displayOrder Int     @default(0)
}

model ResourceLead {
  id        Int       @id @default(autoincrement())
  name      String
  email     String
  phone     String
  resource  String
  createdAt DateTime? @default(now()) @db.Timestamptz(6)
}

model ConferenceInquiry {
  id             Int       @id @default(autoincrement())
  fullName       String
  email          String
  whatsappNumber String
  country        String
  createdAt      DateTime? @default(now()) @db.Timestamptz(6)
}

model Resource {
  id        Int      @id @default(autoincrement())
  title     String
  fileUrl   String
  category  String
  isVisible Boolean  @default(true)
  createdAt DateTime @default(now()) @db.Timestamptz(6)
}
model ContactMessage {
  id        Int      @id @default(autoincrement())
  name      String
  email     String
  subject   String
  message   String
  createdAt DateTime @default(now()) @db.Timestamptz(6)
}
